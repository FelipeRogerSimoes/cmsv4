<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timesheets Dashboard atualizado via git!!!!!</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Importando o Chart.js -->
</head>
<body>
    <h1>Timesheets Dashboard</h1>

    <!-- Tabela com dados de timesheets -->
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Descrição</th>
            <th>Horas Trabalhadas</th>
        </tr>
        <!-- Exemplo de dados fictícios -->
        <tr>
            <td>1</td>
            <td>Análise de sistema</td>
            <td>8</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Reunião com cliente</td>
            <td>2</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Desenvolvimento de relatórios</td>
            <td>5</td>
        </tr>
    </table>

    <!-- Botão para exportar os dados em Excel -->
    <form action="/dashboard/timesheets/download_excel" method="GET">
        <button type="submit">Baixar Timesheet (Excel)</button>
    </form>

    <!-- Canvas para o gráfico de timesheets -->
    <h2>Gráfico de Horas Trabalhadas por Atividade revisado e atualizado localmente</h2>
    <canvas id="timesheetChart" width="400" height="200"></canvas>

    <script>
        // Dados fictícios de atividades e horas (pode ser substituído pelos dados reais)
        const labels = ['Análise de sistema', 'Reunião com cliente', 'Desenvolvimento de relatórios'];
        const data = {
            labels: labels,
            datasets: [{
                label: 'Horas Trabalhadas',
                data: [8, 2, 5],  // Dados de horas para cada atividade
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        };

        // Configuração do gráfico
        const config = {
            type: 'bar',
            data: data,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        };

        // Inicializando o gráfico
        const myChart = new Chart(
            document.getElementById('timesheetChart'),
            config
        );
    </script>
</body>
</html>
